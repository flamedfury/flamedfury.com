{# ---
# https://github.com/bnijenhuis/bnijenhuis-nl/blob/main/social-preview.njk
pagination:
  data: collections.posts
  size: 1
  alias: preview
permalink: '/assets/images/social-preview/{{ preview.data.title | slugify }}-preview.svg'
eleventyExcludeFromCollections: true
---
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="1200" height="628" viewBox="0 0 1200 628" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  {% set titleInLines = preview.data.title | splitlines(16) %}
  {% set numberOfLines = titleInLines.length %}
  {% if numberOfLines == 1 %}
    {% set verticalStartingPoint = 340 %}
  {% elseif numberOfLines == 2 %}
    {% set verticalStartingPoint = 290 %}
  {% elseif numberOfLines == 3 %}
    {% set verticalStartingPoint = 250 %}
  {% elseif numberOfLines == 4 %}
    {% set verticalStartingPoint = 210 %}
  {% elseif numberOfLines == 5 %}
    {% set verticalStartingPoint = 170 %}
  {% endif %}

  <!-- SVG background, generate your own on: https://app.haikei.app/  -->
  <svg id="visual" viewBox="0 0 1200 628" width="1200" height="628" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1">
    <path d="M0 95L109 58L218 51L327 89L436 64L545 152L655 127L764 120L873 139L982 101L1091 108L1200 89L1200 0L1091 0L982 0L873 0L764 0L655 0L545 0L436 0L327 0L218 0L109 0L0 0Z" fill="#f05123"></path>
    <path d="M0 221L109 221L218 302L327 296L436 208L545 372L655 302L764 208L873 340L982 340L1091 302L1200 284L1200 87L1091 106L982 99L873 137L764 118L655 125L545 150L436 62L327 87L218 49L109 56L0 93Z" fill="#f15f21"></path>
    <path d="M0 284L109 353L218 384L327 403L436 277L545 441L655 372L764 328L873 428L982 415L1091 346L1200 353L1200 282L1091 300L982 338L873 338L764 206L655 300L545 370L436 206L327 294L218 300L109 219L0 219Z" fill="#f16c20"></path>
    <path d="M0 579L109 585L218 529L327 547L436 529L545 529L655 529L764 541L873 560L982 566L1091 535L1200 560L1200 351L1091 344L982 413L873 426L764 326L655 370L545 439L436 275L327 401L218 382L109 351L0 282Z" fill="#f17821"></path>
    <path d="M0 629L109 629L218 629L327 629L436 629L545 629L655 629L764 629L873 629L982 629L1091 629L1200 629L1200 558L1091 533L982 564L873 558L764 539L655 527L545 527L436 527L327 545L218 527L109 583L0 577Z" fill="#f08323"></path>
  </svg>

  <!-- title -->
  <text id="text" font-family="sans-serif" font-size="80" font-weight="900" fill="#f4f4f4" letter-spacing="-3">
    {% for line in titleInLines %}
      <tspan x="160" y="{{ verticalStartingPoint - 20 + loop.index0 * 80 }}">
        {{ line }}
      </tspan>
    {% endfor %}
  </text>

  <!-- date -->
  <text font-family="sans-serif" font-weight="bold" fill="#fbfbfb" letter-spacing="-1">
    <tspan x="160" y="{{ verticalStartingPoint - 120 }}">
      {{ preview.date | formatDate('DD/MM/YYYY') }}
    </tspan>
  </text>

  <!-- sitename -->
  <text font-family="sans-serif" font-size="24" font-weight="bold" fill="#fbfbfb" letter-spacing="-0.5">
    <tspan x="160" y="600">{{ meta.siteName }} :: {{ meta.url | replace("https://", "") | replace("http://", "") }}</tspan>
  </text>
</svg> #}